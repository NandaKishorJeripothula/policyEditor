{"ast":null,"code":"import _objectSpread from \"/home/kh-t/Projects/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/kh-t/Projects/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from 'react';\n\nconst useForm = (callback, validate) => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        errors = _useState4[0],\n        setErrors = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isSubmitting = _useState6[0],\n        setIsSubmitting = _useState6[1];\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n\n  const handleSubmit = event => {\n    if (event) event.preventDefault();\n    setErrors(validate(values));\n    setIsSubmitting(true);\n  };\n\n  const handleChange = event => {\n    event.persist();\n    setValues(values => _objectSpread({}, values, {\n      [event.target.name]: event.target.value\n    }));\n    setErrors(validate(values));\n  };\n\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n    errors\n  };\n};\n\nexport default useForm;","map":{"version":3,"sources":["/home/kh-t/Projects/frontend/src/Components/UseForm.tsx"],"names":["useState","useEffect","useForm","callback","validate","values","setValues","errors","setErrors","isSubmitting","setIsSubmitting","Object","keys","length","handleSubmit","event","preventDefault","handleChange","persist","target","name","value"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,OAAO,GAAG,CAACC,QAAD,EAAoBC,QAApB,KAAqC;AAAA,oBAcvBJ,QAAQ,CAAC,EAAD,CAde;AAAA;AAAA,QAc5CK,MAd4C;AAAA,QAcpCC,SAdoC;;AAAA,qBAevBN,QAAQ,CAAC,EAAD,CAfe;AAAA;AAAA,QAe5CO,MAf4C;AAAA,QAepCC,SAfoC;;AAAA,qBAgBXR,QAAQ,CAAC,KAAD,CAhBG;AAAA;AAAA,QAgB5CS,YAhB4C;AAAA,QAgB9BC,eAhB8B;;AAkBnDT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,MAAM,CAACC,IAAP,CAAYL,MAAZ,EAAoBM,MAApB,KAA+B,CAA/B,IAAoCJ,YAAxC,EAAsD;AACpDN,MAAAA,QAAQ;AACT;AACF,GAJQ,EAIN,CAACI,MAAD,CAJM,CAAT;;AAMA,QAAMO,YAAY,GAAIC,KAAD,IAAe;AAClC,QAAIA,KAAJ,EAAWA,KAAK,CAACC,cAAN;AACXR,IAAAA,SAAS,CAACJ,QAAQ,CAACC,MAAD,CAAT,CAAT;AACAK,IAAAA,eAAe,CAAC,IAAD,CAAf;AACD,GAJD;;AAMA,QAAMO,YAAY,GAAIF,KAAD,IAAe;AAClCA,IAAAA,KAAK,CAACG,OAAN;AACAZ,IAAAA,SAAS,CAACD,MAAM,sBAAUA,MAAV;AAAkB,OAACU,KAAK,CAACI,MAAN,CAAaC,IAAd,GAAqBL,KAAK,CAACI,MAAN,CAAaE;AAApD,MAAP,CAAT;AACAb,IAAAA,SAAS,CAACJ,QAAQ,CAACC,MAAD,CAAT,CAAT;AACD,GAJD;;AAMA,SAAO;AACLY,IAAAA,YADK;AAELH,IAAAA,YAFK;AAGLT,IAAAA,MAHK;AAILE,IAAAA;AAJK,GAAP;AAMD,CA1CD;;AA4CA,eAAeL,OAAf","sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useForm = (callback:Function, validate:any) => {\n\n  interface error {\n      email: string,\n      domain: string,\n      password: string\n  }\n\n  interface values {\n    email: string,\n    domain: string,\n    password: string\n  }\n\n  const [values, setValues] = useState({} as values);\n  const [errors, setErrors] = useState({} as error);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n\n  const handleSubmit = (event:any) => {\n    if (event) event.preventDefault();\n    setErrors(validate(values));\n    setIsSubmitting(true);\n  };\n\n  const handleChange = (event:any) => {\n    event.persist();\n    setValues(values => ({ ...values, [event.target.name]: event.target.value }));\n    setErrors(validate(values));\n  };\n\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n    errors,\n  }\n};\n\nexport default useForm;"]},"metadata":{},"sourceType":"module"}